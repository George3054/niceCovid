<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<p id="p1">signup</p>
<form id="log_form" name="nice_form" method="post">
    username:
    <input name="user" type="text">
    password:
    <input name="pass" type="text">
    email:
    <input name="email" type="text">
    <input id="epibebaiosi" type="submit">
</form>

<a href="login.html">Login</a>

<script>
    var vorm = document.getElementById('log_form');
    vorm.addEventListener('submit', function (ev) {
        let vormData = new FormData(vorm);
        lmao = Object.fromEntries(vormData);
        axios.post('http://localhost:4545/sign', lmao)
            .then(function (response) {
                console.log(response.data);
                if(response.data=="error_dup"){
                document.getElementById("p1").innerHTML = "There was an error!";
                } else{
                    document.getElementById("p1").innerHTML = "Account created!";

                }
            })
            .catch(function (error) {
                console.log(error);
            });

        ev.preventDefault();
    }, false);

</script>